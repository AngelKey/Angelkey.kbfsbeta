package engine

import (
	"fmt"
	keybase_1 "github.com/keybase/client/protocol/go"
)

type gpgcanceltestui struct {
	*gpgtestui
}

func (g *gpgcanceltestui) SelectKeyAndPushOption(arg keybase_1.SelectKeyAndPushOptionArg) (keybase_1.SelectKeyRes, error) {
	return keybase_1.SelectKeyRes{}, nil
}

// doesn't push secret to api server
type gpgPubOnlyTestUI struct {
	*gpgtestui
}

func (g *gpgPubOnlyTestUI) SelectKeyAndPushOption(arg keybase_1.SelectKeyAndPushOptionArg) (keybase_1.SelectKeyRes, error) {
	if len(arg.Keys) == 0 {
		return keybase_1.SelectKeyRes{}, fmt.Errorf("no keys in arg")
	}
	key := arg.Keys[0]
	return keybase_1.SelectKeyRes{KeyID: key.KeyID, DoSecretPush: false}, nil
}
